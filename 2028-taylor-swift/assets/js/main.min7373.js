function attemptsCounter(){let e=0;return function(){return++e}}String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});let attemptsCount=new attemptsCounter,maxAttempts=5;window.addEventListener("poof",e=>{null!=getSettings("confetti_mode")&&1!=getSettings("confetti_mode")||poof();let t=e.detail.target,o=e.detail.currentGuess,s=e.detail.maxGuesses;$(".share-button").each(function(){let e,n=$(this).data("target"),i=window.translations.share.replace("[word]",t.toUpperCase()).replace("[number_try]",o).replace("[total_try]",s).replace("[try]",o>1?"tries":"try");switch(n){case"facebook":e="https://www.facebook.com/sharer/sharer.php?u=[source]";break;case"twitter":e="https://www.twitter.com/share?url=[source]&text=[text]";break;case"whatsapp":e="https://api.whatsapp.com/send?text=[text]";break;case"reddit":e="https://www.reddit.com/submit?url=[source]&title=[text]"}void 0!==e&&(e=(e=e.replace("[source]",window.location.href)).replace("[text]",i),$(this).attr("href",e))})},!1),window.addEventListener("updateStats",e=>{let t=e.detail.statsPlayed,o=e.detail.statsWon,s=e.detail.statsPercent,n=e.detail.statsMaxStreak;$(".share-stats-button").each(function(){let e,i=$(this).data("target"),a=window.translations.share_stats.replace("[stats_played]",t).replace("[stats_won]",o).replace("[stats_percent]",s).replace("[stats_max_streak]",n);switch(i){case"facebook":e="https://www.facebook.com/sharer/sharer.php?u=[source]";break;case"twitter":e="https://www.twitter.com/share?url=[source]&text=[text]";break;case"whatsapp":e="https://api.whatsapp.com/send?text=[text]";break;case"reddit":e="https://www.reddit.com/submit?url=[source]&title=[text]"}void 0!==e&&(e=(e=e.replace("[source]",window.location.href)).replace("[text]",encodeURIComponent(a)),$(this).attr("href",e))})},!1),$(function(){svg4everybody(),$(".js-fullscreen").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active").find("span").text(translations.open_fullscreen),$(".js-section-full").removeClass("fixed"),showScroll()):($(this).addClass("active").find("span").text(translations.close_fullscreen),$(".js-section-full").addClass("fixed"),hideScroll())}),$(".js-gamb").click(function(){$(this).toggleClass("open"),$(".js-gamb-hidden").toggleClass("open"),$(this).hasClass("open")?hideScroll():showScroll()}),$(document).on("click touchstart",function(e){if($(".js-gamb").hasClass("open")){if($(e.target).closest(".js-gamb-hidden").length||$(e.target).closest(".js-gamb").length)return;$(".js-gamb").removeClass("open"),$(".js-gamb-hidden").removeClass("open"),showScroll()}e.stopPropagation()}),$(".js-gamb-hidden .menu-header__link--dropdown").on("click",function(e){e.preventDefault(),$(this).next(".dropdown-menu").slideToggle()}),$(".js-scroll").scrollbar(),$(".starability-basic input").on("change",function(){$(".starability-basic input").prop("disabled","disabled");var e=$(this).val(),t=$(this).closest(".starability-basic").attr("data-section");$.ajax({url:"/vote",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{rating:e,section:t},type:"post",dataType:"json",success:function(e){"ok"==e.status&&($(".rate__numbers b").text(e.rating),$(".rate__votes span").text(e.total_votes))},complete:function(){}})}),supportsCssVars()||($("body").addClass("lock"),$(".supports_error").addClass("show")),$(":root").css("--scroll_width",widthScroll()+"px"),$("body").on("change",'input[name="dark_mode"][type="checkbox"]',function(e){e.preventDefault(),$(this).is(":checked")?($("html").addClass("dark"),$("body").addClass("dark-theme"),setSettings("theme_mode","night")):($("html").removeClass("dark"),$("body").removeClass("dark-theme"),$(".game_rows").removeClass("dark-theme"),setSettings("theme_mode","day"))}),"night"==getSettings("theme_mode")&&$('input[name="dark_mode"][type="checkbox"]').prop("checked",!0),$("body").on("change",'input[name="color_blind_mode"][type="checkbox"]',function(e){e.preventDefault(),$(this).is(":checked")?($("body").addClass("color-blind-mode"),setSettings("colorblind_mode",1)):($("body").removeClass("color-blind-mode"),setSettings("colorblind_mode",0))}),1==getSettings("colorblind_mode")&&$('input[name="color_blind_mode"][type="checkbox"]').prop("checked",!0),$("body").on("change",'input[name="confetti_mode"][type="checkbox"]',function(e){e.preventDefault(),$(this).is(":checked")?setSettings("confetti_mode",1):setSettings("confetti_mode",0)}),null!=getSettings("confetti_mode")&&1!=getSettings("confetti_mode")||$('input[name="confetti_mode"][type="checkbox"]').prop("checked",!0),firstClick=!1,$(".mini_modal_link").click(function(e){e.preventDefault();let t=$(this).data("modal-id");$(t).find(".share_btn").css("display","block"),$(t).find(".links").css("display","none"),$(this).hasClass("active")?($(this).removeClass("active"),$(".mini_modal").removeClass("active"),firstClick=!1,$(window).width()<1024&&$("body").css("cursor","default"),$(".overlay").fadeOut(200)):($(".mini_modal_link").removeClass("active"),$(this).addClass("active"),$(".mini_modal").removeClass("active"),$(t).addClass("active"),firstClick=!0,$(window).width()<1024&&$("body").css("cursor","pointer"),$(".overlay").fadeIn(200)),$(this).blur()}),$(document).click(function(e){firstClick||0!=$(e.target).closest(".mini_modal").length||($(".mini_modal_link").hasClass("active")&&$(".overlay").fadeOut(200),$(".mini_modal, .mini_modal_link").removeClass("active"),$(window).width()<1024&&$("body").css("cursor","default")),firstClick=!1}),$("body").on("click",".mini_modal .close",function(e){e.preventDefault(),$(".mini_modal, .mini_modal_link").removeClass("active"),$(window).width()<1024&&$("body").css("cursor","default"),$(".overlay").fadeOut(200),firstClick=!1}),$("body").on("click",".modal_finish .close",function(e){e.preventDefault(),$(".modal_finish").removeClass("active"),$(window).width()<1024&&$("body").css("cursor","default")}),$("body").on("click",".share_btn button",function(e){e.preventDefault(),$(this).parent().hide(),$(this).parent().next(".links").fadeIn(300).css("display","flex")}),$("body").on("click",".open_alert",function(e){e.preventDefault(),$(".alert").fadeIn(300,function(){setTimeout(function(e){$(".alert").fadeOut(300)},650)})}),$(".js-gamb-hidden .lang-header__title").on("click",function(e){e.preventDefault(),$(this).next(".lang-header__dropdown").slideToggle()}),$("body").on("click",".download-screenshot",function(e){e.preventDefault(),$("html").hasClass("dark")?$(".game_rows").addClass("dark-theme"):$(".game_rows").removeClass("dark-theme"),$(".game_rows").addClass("game_rows-downloading"),html2canvas(document.querySelector(".game_rows")).then(e=>{$(".game_rows").removeClass("game_rows-downloading"),e.toBlob(function(e){saveAs(e,"numberle.png")})})})});var share={open:function(e){let t=`${""!=language.prefix?`/${language.prefix}`:""}/share?${e.join("&")}`;share.popup(t,"Share",840,700)},popup:function(e,t,o,s){var n=null!=window.screenLeft?window.screenLeft:window.screenX,i=null!=window.screenTop?window.screenTop:window.screenY,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=a/window.screen.availWidth,d=(a-o)/2/l+n,c=(r-s)/2/l+i,h=window.open(e,t,"menubar=no,toolbar=no, width="+o/l+", height="+s/l+", top="+c+", left="+d);window.focus&&h.focus()}};function getSettings(e){return localStorage.getItem(e)}function setSettings(e,t){setCookie(e,t),localStorage.setItem(e,t)}function getCookie(e){return!!new RegExp("(?:; )?"+e+"=([^;]*);?").test(document.cookie)&&decodeURIComponent(RegExp.$1)}function setCookie(e,t,o){var s="";if(o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3),s="; expires="+n.toUTCString()}document.cookie=e+"="+(t||"")+s+"; path=/"}function hideScroll(){var e=document;e.body.classList.add("no-scroll"),e.scrollTop=window.pageYOffset,e.body.style.position="fixed",hasScrollbar()?e.body.style.width="calc(100% - ${getScrollbarSize()}px)":e.body.style.width="100%",e.body.style.top=-e.scrollTop+"px"}function getScrollbarSize(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var s=o.offsetWidth;return e.parentNode.removeChild(e),t-s}function hasScrollbar(){return document.body.scrollHeight>document.body.clientHeight}function showScroll(){var e=document;e.body.classList.remove("no-scroll"),e.body.style.position="",e.body.style.width="",e.body.style.top="",window.scroll(0,e.scrollTop)}function widthScroll(){let e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var supportsCssVars=function(){var e,t=document.createElement("style");return t.innerHTML=":root { --tmp-var: bold; }",document.head.appendChild(t),e=!!(window.CSS&&window.CSS.supports&&window.CSS.supports("font-weight","var(--tmp-var)")),t.parentNode.removeChild(t),e};function isNumberKey(e){var t=e.which?e.which:event.keyCode;return!(t>31&&(t<48||t>57)&&(t<96||t>105))}function ordinal_suffix_of(e){var t=e%10,o=e%100;return 1==t&&11!=o?e+"st":2==t&&12!=o?e+"nd":3==t&&13!=o?e+"rd":e+"th"}